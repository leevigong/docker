# 도커(Docker) <img src="https://img.shields.io/badge/DOCKER-2496ED?style=flat&logo=Docker&logoColor=white"/>
- 컨테이너 개념을 도입해 데이터/프로그램을 격리시키는 기능을 제공하는 소프트웨어
- 컨테이너 환경을 손쉽게 만들 수 있는 기능, 각 컨테이너를 손쉽게 동작할 수 있는 도커 엔진 제공
- 애플리케이션을 위해 컨테이너로 패키징하고 배포하는 도구(Iaas, Paas에서 활용됨)
- 리눅스 운영체제에서 사용하는 것을 전제로 만들어 졌기 때문에 반드시 리눅스 운영체제가 필요! 컨테이너 안에서 동작하는 프로그램도 리눅스용 프로그램!<br><br>
주 용도) 동일한 개발 환경 제공, 새로운 버전의 테스트, 동일한 서버가 여러 대 필요한 경우<br>
장점) 한 대의 물리 서버에 여러 대의 서버를 띄움, 서버 관리가 용이, 다루기 쉬움<br>
단점) 호스트 서버에 문제가 생기면 모든 컨테이너에 영향을 미침

### Linux 컨테이너 vs VM
IT환경에서 격리된 패키징된 컴퓨팅환경을 제공
특징 | Linux 컨테이너 | VM
|---|---|---|
크기 및 패키징| Megabyte 단위 크기를 가지며, 애플리케이션과 그 실행에 필요한 최소한의 파일만 포함 | - GigaByte 단위 크기를 가지며, 자체 OS를 포함 <br> - 여러 리소스 집약적인 작업을 동시에 수행할 수 있으며, 전체 서버, OS, 데스크탑, DB, 네트워크 등을 추상화, 분할, 복제, 에뮬레이션함
이동성 및 확장성| 경량화 속성과 공유OS로 인해 여러 환경 간 쉽게 이동 가능하며 확장이 상대적으로 쉬움| VM 자체OS를 가지고 있어 이동성이 상대적으로 낮으며 확장을 위해 추가 리소스 필요함
리소스 분리| 호스트 OS커널을 공유하므로 리소스 분리가 상대적으로 덜 격리됨| 자체OS를 가지고 있어 더 격리된 환경을 제공하며, 리소스를 더욱 강력하게 분리할 수 있음
용도| 미세한 서비스 or 컨테이너 오케스트레이션 플랫폼(ex: docker, kubernetes)을 통해 애플리케이션 배포와 관리에 사용| 여러개의 VM을 호스팅하는 가상화 환경에서 서버 가상화, 개발 서버 가상화, 개발 환경 분리, 테스트 및 백업 등 다양한 용도로 활용
**요약**|**경량하고 이동성이 뛰어나며 주로 애플리케이션 수준의 격리(PaaS)를 제공**| **무겁고 격리가 강화되어 다양한 용도로 활용되지만 이동성이 상대적으로 낮음**
<img src="./images/컨테이너 vs VM.png" width="720"/>

### 도커 엔진 vs 컨테이너 vs 이미지
도커 엔진: 도커 소프트웨어의 본체. 도커 엔진이 있어야 컨테이너 생성 및 실행 가능<br>
컨테이너: OS 수준의 가상화 기술로 리눅스 커널을 공유하면서 프로세스를 격리된 환경에서 실행하는 기술<br>
이미지: 컨테이너 실행에 필요한 파일과 설정값들을 포함. 컨테이너 상태가 바뀌거나 삭제되어도 이미지는 변하지 않음.<br>
- 컨테이너 설계도, 컨테이너 생성하는데 사용
- 이미지를 사용하면 동일한 컨테이너를 여러개 생성 가능
- 컨테이너로도 이미지를 만들 수 있음 -> 이 이미지를 이용한 컨테이너 이동 가능
  

**‼️ 데이터나 프로그램을 독립된 환경에 격리해야하는 이유**
- 데이터/프로그램이 격리되지 않으면 서로에게 영향을 줄 수 있고, 서로에게 강한 의존성을 가질 가능성이 있음<br>
- 공유하는 프로그램, 파일, 라이브러리 등을 한 개의 프로그램만을 위해 수정하게 되면 오류 발생 가능성이 있음<br>
=> 프로그램의 격리: 도커 컨테이너를 사용해 프로그램을 격리하면, 여러 프로그램이 한 서버에 실행되면서 발생하게 되는 문제들을 대부분 해결할 수 있음<br>
=> 자유롭게 옮길 수 있는 컨테이너: 운영체제가 달라도 컨테이너를 옮길 수 잇음, 물리적 환경 차이, 서버 구성의 차이를 무시할 수 있으므로, 운영 서버와 개발 서버의 환경 차이로 인한 문제를 방지할 수 있음

### 도커의 구조
물리 서버 > 리눅스 운영체제 > 도커 엔진 > 컨테이너<br>
컨테이너 속에 운영체제의 주변 부분이 들어있어 프로그램의 명령을 전달받고 이를 커널에 전달하는 구조로 되어있음<br>
<img src="./images/도커 구조.png" width="250"/>
<img src="./images/리눅스 구조.png" width="250"/>

* 윈도우 사용시) 윈도우 os > 가상 환경 > 리눅스 운영체제 > 도커 엔진


### 클라우드 서비스의 3가지 주요 모델
#### - IaaS(Infrastructure as a Service)
인프라 자원(서버, 스토리지, 네트워크 등)을 제공 | 사용자: 운영체제와 소프트웨어를 직접 설치하고 관리해야함 <br> ex) AWS EC2, Microsoft Azure, Google Clound Compuer Engine
#### - Paas(Platform as a Service)
애플리케이션 개발에 필요한 플랫폼 + 인프라 제공 | 사용자: 애플리케이션 개발에만 집중 가능 <br> ex) AWS Elastic Beanstalk, Google App Engine, Heroku
#### - SaaS(Softward as a Service)
소프트웨어 (+ 플랫폼 + 인프라)를 인터넷을 통해 서비스 형태로 제공 } 사용자: 소프트웨어 설치나 관리 없이 웹 브라우저에서 사용 <br> ex) Google Workspace, Salesforce, Slack, 한컴독스



<!-- 토글 
<details>
	<summary>토글 접기/펼치기</summary>
  	<div markdown="1">
      안녕
  	</div>
</details>
-->
